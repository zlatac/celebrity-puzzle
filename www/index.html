<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Celebrity Puzzle</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script>
    <script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
    <script src="https://unpkg.com/vuex"></script>
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/css?family=Pacifico" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="css/animate.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <!-- favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="assets/favicon/site.webmanifest">
    <link rel="mask-icon" href="assets/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/svg.js/2.6.3/svg.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment-with-locales.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.15.3/axios.min.js"></script>
    <script src="scripts/tones.js"></script>
</head>
<body>
    <div id="myapp">
        <router-view></router-view>
    </div>
<script type="text/x-template" id="leaderboard">
    <div>
        <div class="top-banner"></div>
        <div class="container">
            <router-link to="/dash">
                <div class="btn-floating btn-large waves-effect waves-light fab-menu animated bounce z-depth-4">
                    <i class="material-icons" style="font-size:34px;color:white">home</i>
                </div>
            </router-link>
            <div class="col s12 animated fadeInUp" style="margin-top: 30px;">
                <div class="card-panel z-depth-4 center-align waves-effect waves-block" @click="getLeaderboard" style="margin:0.5rem 0 0.1rem 0;">
                    <div class="row " style="margin-bottom:0px">
                        <span class="left"><i class="material-icons">refresh</i></span>World Ranking (Today) {{instaName}}
                        <span class="right"><i class="material-icons" style="color: rgb(108, 163, 205);">people</i>1k</span>
                    </div>
                </div>
            </div>
            <div class="col s12 center" v-show="loader"><spinner class="animated fadeIn" :colorClass="'default'"></spinner></div>
            <div class="col s12 animated fadeInUp" v-for="(x, index) in leaderboardList">
                <div class="card-panel z-depth-2" style="padding:9px;margin:0.5rem 0 0.1rem 0;" :class="{'grey white-text': savedProfile === x.name}">
                <div class="row valign-wrapper" style="margin-bottom:0px">
                    <!-- <div class="col s3" style="position: relative;" @click="makeHeart()">
                    <img :src="url" alt="" class="circle responsive-img img-lead">
                    <span class="btn btn-small btn-floating lead-champ-fab pulse z-depth-3" v-if="index === 0"><i class="fa fa-trophy gold"></i></span>
                    <span class="btn btn-small btn-floating lead-champ-fab pulse z-depth-3" v-if="index === 1"><i class="fa fa-trophy silver"></i></span>
                    <span class="btn btn-small btn-floating lead-champ-fab pulse z-depth-3" v-if="index === 2"><i class="fa fa-trophy bronze"></i></span>
                    <span class="btn btn-small btn-floating lead-fab z-depth-3" v-if="index > 2">{{index + 1}}</span>
                    </div> -->
                    <champion class="col s3" :index="index" :url="x.profile_url" @click.native="makeHeart()"></champion>
                    <div class="col s4 truncate">
                        <span>{{x.name}}</span>
                    </div>
                    <div class="col s3">
                        <span>{{x.realtime}}</span>
                    </div>
                    <div class="col s2 center-align">
                        <a :href="'https://www.instagram.com/' + x.name" target="_blank" rel="noopener noreferrer" style="color:#f42e91b0;">
                            <span><i class="fa fa-instagram" style="font-size: 23px;"></i></span>
                        </a>
                    </div>
                </div>
                </div>
            </div>
            <div class="hearts">
                <div class="heart" v-for="x in movingHearts" :class="[x.color]" :style="{'fontSize': x.font +'px', 'animation': x.flow + ' ' + x.seconds + 's linear'}">
                    <i class="fa fa-star"></i>
                </div>
            </div>
        </div>
    </div>
</script>
<script type="text/x-template" id="comp-modal">
    <!-- Modal Structure -->
    <div id="modal1" class="modal">
        <div class="modal-content">
            <!-- <dash-modal v-bind:dash="modalData" v-if="modalData !== undefined"></dash-modal>
            <game-modal v-bind:game="test" v-if="test !== undefined"></game-modal> -->
            <div v-if="modalPage.page === 'game'" v-show="!modalPage.insta">
                <!-- Game ended -->
                <div class="row left-align">
                    <div class="col s12">Time: {{test.timePlayed}}</div>
                <div class="col s12">Best Time: {{test.bestTime}}</div>
                    <div class="col s12">World Rank (Today): Submit to find out</div>
                </div>
                
                <div class="row valign-wrapper">
                    <div class="center col s4">
                        <router-link to="/dash" class="modal-action modal-close"><i class="material-icons">home</i> Home</router-link>
                    </div>
                    <div class="center col s4">
                        <div @click="$emit('replay')" class="modal-action modal-close">
                        <i class="material-icons">refresh</i> Retry
                        </div>
                    </div>
                    <div class="center col s4" @click="showSubmit"><i class="fa fa-trophy"></i> Submit</div>                
                </div>
            </div>

            <div v-if="modalPage.page === 'dash'">
                <!-- Start a game -->
                <div class="row">
                    <div class="col s12">
                        <b>Instruction</b>: Tap a tile to switch positions with other tiles. Solve the puzzle with the fastest time in the world today
                    </div>
                </div>
                <div class="row">
                    <div class="col s4 push-s9">
                        <router-link :to="{ path: 'game/' + modalData.name }" class="modal-action modal-close">
                            <div class="btn btn-floating btn-large pulse" :style="{'background-color':modalData.color}">
                                <i class="material-icons">play_arrow</i>
                            </div>
                        </router-link>
                    </div>
                </div>
            </div>
                
            <div v-if="modalPage.page === 'game'" v-show="modalPage.insta === true">
                <div class="row" style="margin: 0px;">
                    <div class="col" @click="modalPage.insta = false"><i class="material-icons" style="font-size: 20px;">arrow_back_ios</i></div>
                </div>
                <div class="row">
                    <div class="col s8">
                        <input type="text" placeholder="Instagram handle" :value="inputProfile" :class="{'invalid': modalPage.fail}"
                         @keypress="inputProfile = $event.target.value" @input="inputProfile = $event.target.value" @keyup="getProfile">
                    </div>
                    <div class="col s4" v-show="!modalPage.fail">
                        <img :src="url" alt="" class="circle responsive-img img-lead animated fadeInLeft" v-show="!modalPage.loader">
                        <spinner class="animated fadeIn" :colorClass="'default'" v-show="modalPage.loader"></spinner>
                    </div>
                    <div class="col s4" v-show="modalPage.fail">
                        <i class="material-icons">mood_bad</i><br><span style="font-size:10px">Oops! Not an instagram profile</span>
                    </div>
                </div>
                <div class="row animated bounceIn" v-show="modalPage.imageacquired">
                    <div class="col s12">
                        <div class="btn btn-block z-depth-2" @click="$emit('submitGame',inputProfile)" style="background:var(--main)">Submit</div>
                    </div>
                </div>
            </div>
        </div>
        <!--<div class="modal-footer">
            <span class="modal-action modal-close waves-effect waves-green btn-flat ">Agree</span>
        </div>-->
    </div>
</script>
<script src="scripts/main.es5.js"></script>
</body>
</html>